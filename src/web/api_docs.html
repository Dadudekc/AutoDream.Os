<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swarm Intelligence API Documentation - V2.0.0</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.7.2/swagger-ui.css" />
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }

        .swagger-ui .topbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .swagger-ui .topbar .link {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .swagger-ui .topbar .link:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .api-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .api-header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }

        .api-header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }

        .api-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .stat-card h3 {
            margin: 0;
            font-size: 2em;
            font-weight: 300;
        }

        .stat-card p {
            margin: 5px 0 0 0;
            font-size: 0.9em;
            opacity: 0.8;
        }

        .quick-links {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
        }

        .quick-links h2 {
            margin-top: 0;
            color: #495057;
        }

        .link-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .link-card {
            background: white;
            padding: 15px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-decoration: none;
            color: #495057;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .link-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            text-decoration: none;
            color: #495057;
        }

        .link-card h3 {
            margin: 0 0 8px 0;
            font-size: 1.1em;
        }

        .link-card p {
            margin: 0;
            font-size: 0.9em;
            opacity: 0.8;
        }

        .version-badge {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 500;
            margin-left: 10px;
        }

        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #28a745;
            margin-right: 5px;
        }

        .status-indicator.degraded {
            background: #ffc107;
        }

        .status-indicator.unhealthy {
            background: #dc3545;
        }
    </style>
</head>
<body>
    <div class="api-header">
        <h1>üêù Swarm Intelligence API</h1>
        <p>Comprehensive API documentation for the Swarm Intelligence Agent Cellphone V2 system</p>

        <div class="api-stats">
            <div class="stat-card">
                <h3>6</h3>
                <p>API Categories</p>
            </div>
            <div class="stat-card">
                <h3>15+</h3>
                <p>Endpoints</p>
            </div>
            <div class="stat-card">
                <h3>100%</h3>
                <p>V2 Compliant</p>
            </div>
            <div class="stat-card">
                <h3><span class="status-indicator"></span>Live</h3>
                <p>System Status</p>
            </div>
        </div>
    </div>

    <div class="quick-links">
        <h2>Quick Links & Resources</h2>
        <div class="link-grid">
            <a href="#/agents" class="link-card" onclick="scrollToSection('agents')">
                <h3>ü§ñ Agent Management</h3>
                <p>Multi-agent orchestration and coordination APIs</p>
            </a>
            <a href="#/messages" class="link-card" onclick="scrollToSection('messages')">
                <h3>üí¨ Messaging System</h3>
                <p>Inter-agent communication and broadcasting</p>
            </a>
            <a href="#/vector" class="link-card" onclick="scrollToSection('vector')">
                <h3>üîç Vector Database</h3>
                <p>Semantic similarity search and document indexing</p>
            </a>
            <a href="#/analytics" class="link-card" onclick="scrollToSection('analytics')">
                <h3>üìä Analytics Engine</h3>
                <p>Real-time performance monitoring and insights</p>
            </a>
            <a href="#/thea" class="link-card" onclick="scrollToSection('thea')">
                <h3>üß† Thea Integration</h3>
                <p>Advanced AI communication and automation</p>
            </a>
            <a href="#/system" class="link-card" onclick="scrollToSection('system')">
                <h3>‚öôÔ∏è System Health</h3>
                <p>System monitoring and health check endpoints</p>
            </a>
            <a href="api_examples.html" class="link-card">
                <h3>üìö API Examples</h3>
                <p>Interactive examples and code samples</p>
            </a>
            <a href="changelog.html" class="link-card">
                <h3>üìã Changelog</h3>
                <p>API version history and updates</p>
            </a>
        </div>
    </div>

    <div id="swagger-ui"></div>

    <script src="https://unpkg.com/swagger-ui-dist@5.7.2/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.7.2/swagger-ui-standalone-preset.js"></script>
    <script>
        window.onload = function() {
            const ui = SwaggerUIBundle({
                url: '../docs/api/openapi_specification.yaml',
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "StandaloneLayout",
                validatorUrl: null,
                tryItOutEnabled: true,
                requestInterceptor: function(request) {
                    // Add API key if available in localStorage
                    const apiKey = localStorage.getItem('swarm_api_key');
                    if (apiKey) {
                        request.headers['X-API-Key'] = apiKey;
                    }
                    return request;
                },
                responseInterceptor: function(response) {
                    // Log API responses for debugging
                    console.log('API Response:', response);
                    return response;
                }
            });

            window.ui = ui;
        };

        function scrollToSection(section) {
            // Smooth scroll to API section in Swagger UI
            const element = document.querySelector(`[data-section-id="${section}"]`);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Add version badge to header
        document.addEventListener('DOMContentLoaded', function() {
            const header = document.querySelector('.api-header h1');
            if (header) {
                header.innerHTML += '<span class="version-badge">V2.0.0</span>';
            }
        });

        // System status checker
        setInterval(function() {
            fetch('/health')
                .then(response => response.json())
                .then(data => {
                    const indicators = document.querySelectorAll('.status-indicator');
                    indicators.forEach(indicator => {
                        if (data.status === 'healthy') {
                            indicator.className = 'status-indicator';
                        } else if (data.status === 'degraded') {
                            indicator.className = 'status-indicator degraded';
                        } else {
                            indicator.className = 'status-indicator unhealthy';
                        }
                    });
                })
                .catch(error => {
                    console.log('Health check failed:', error);
                    const indicators = document.querySelectorAll('.status-indicator');
                    indicators.forEach(indicator => {
                        indicator.className = 'status-indicator unhealthy';
                    });
                });
        }, 30000); // Check every 30 seconds
    </script>
</body>
</html>

