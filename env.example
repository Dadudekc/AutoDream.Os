# Environment Configuration - Agent Cellphone V2
# Copy this file to .env and modify as needed
# This file now includes all unified configuration variables

# =============================================================================
# UNIFIED CONFIGURATION SYSTEM - V2 COMPLIANCE
# =============================================================================

# ---- App --------------------------------------------------------------------
APP_NAME=AgentCellphoneV2
APP_ENV=development                   # development|test|production
TZ=America/Chicago

# ---- Logging ----------------------------------------------------------------
LOG_LEVEL=INFO
LOG_DIRECTORY=logs
LOG_FILE=${LOG_DIRECTORY}/app.log
ENVIRONMENT=${APP_ENV}

# Debug/verbosity
DEBUG_MODE=false
FLASK_DEBUG=false
VERBOSE_LOGGING=false

# ---- Performance & Observability -------------------------------------------
LOG_SLOW_QUERIES=true
SLOW_QUERY_THRESHOLD=1.0              # seconds
LOG_MEMORY_USAGE=true
MEMORY_THRESHOLD=100                  # MB

# Security logging
LOG_AUTH_ATTEMPTS=true
LOG_API_CALLS=true
LOG_FILE_ACCESS=false
MASK_SENSITIVE_DATA=true

# Integration logging
LOG_EXTERNAL_APIS=true
LOG_DATABASE_CONNECTIONS=true
LOG_MESSAGE_QUEUE=true
LOG_WEBSOCKET=true

# ---- Feature Flags ----------------------------------------------------------
ENABLE_DEVELOPMENT_FEATURES=false
ENABLE_TESTING_MODE=false
ENABLE_PROFILING=false

# ---- Paths ------------------------------------------------------------------
CONFIG_DIRECTORY=config
DATA_DIRECTORY=data
CACHE_DIRECTORY=cache
REPORTS_DIR=reports

# ---- API Behavior -----------------------------------------------------------
API_TIMEOUT=30                        # seconds
API_RETRY_ATTEMPTS=3
API_RATE_LIMIT=100                    # req/min or per window

# ---- Database ---------------------------------------------------------------
DB_CONNECTION_TIMEOUT=10              # seconds
DB_QUERY_TIMEOUT=30                   # seconds
DB_POOL_SIZE=10
CURSOR_DB_PATH=${DATA_DIRECTORY}/cursor_tasks.db

# Cursor task database
CURSOR_DB_PATH=

# Web Server Configuration
WEB_HOST=127.0.0.1
WEB_PORT=5000
WEB_WORKERS=4
WEB_TIMEOUT=60

# ---- Secrets & Credentials (fill in for non-dev) ----------------------------
# Flask
FLASK_DEV_SECRET_KEY=
FLASK_TEST_SECRET_KEY=
FLASK_PROD_SECRET_KEY=

# Portal service
PORTAL_SECRET_KEY=
PORTAL_SESSION_SECRET=

# Redis
PORTAL_REDIS_PASSWORD=
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0
# Derived Redis URL (preferred by many libs)
REDIS_URL=redis://:${PORTAL_REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# RabbitMQ
PORTAL_RABBITMQ_USERNAME=
PORTAL_RABBITMQ_PASSWORD=
PORTAL_RABBITMQ_HOST=127.0.0.1
PORTAL_RABBITMQ_PORT=5672
# Derived AMQP URL
RABBITMQ_URL=amqp://${PORTAL_RABBITMQ_USERNAME}:${PORTAL_RABBITMQ_PASSWORD}@${PORTAL_RABBITMQ_HOST}:${PORTAL_RABBITMQ_PORT}//

# Test users (dev only; rotate/regenerate for prod)
TEST_USER_PASSWORD=
ADMIN_USER_PASSWORD=

# Health monitor (optional UI)
HEALTH_MONITOR_SECRET_KEY=

# =============================================================================
# UNIFIED CONFIGURATION VARIABLES
# =============================================================================

# Timeout Configurations
SCRAPE_TIMEOUT=30.0
RESPONSE_WAIT_TIMEOUT=120.0
QUALITY_CHECK_INTERVAL=30.0
METRICS_COLLECTION_INTERVAL=60.0
SMOKE_TEST_TIMEOUT=60
UNIT_TEST_TIMEOUT=120
INTEGRATION_TEST_TIMEOUT=300
PERFORMANCE_TEST_TIMEOUT=600
SECURITY_TEST_TIMEOUT=180
API_TEST_TIMEOUT=240
COORDINATION_TEST_TIMEOUT=180
LEARNING_TEST_TIMEOUT=180

# Agent Configuration
AGENT_COUNT=8
CAPTAIN_ID=Agent-4
DEFAULT_MODE=pyautogui
COORDINATE_MODE=8-agent

# File Pattern Configuration
TEST_FILE_PATTERN=test_*.py
ARCHITECTURE_FILES=\.(py|js|ts|java|cpp|h|md)$
CONFIG_FILES=(config|settings|env|yml|yaml|json|toml|ini)$
TEST_FILES=(test|spec)\.(py|js|ts|java)$
DOCS_FILES=(README|CHANGELOG|CONTRIBUTING|docs?)\.md$
BUILD_FILES=(Dockerfile|docker-compose|\.gitlab-ci|\.github|Makefile|build\.gradle|pom\.xml)$

# Threshold Configuration
TEST_FAILURE_THRESHOLD=0
PERFORMANCE_DEGRADATION_THRESHOLD=100.0
COVERAGE_THRESHOLD=80.0
RESPONSE_TIME_TARGET=100.0
THROUGHPUT_TARGET=1000.0
SCALABILITY_TARGET=100
RELIABILITY_TARGET=99.9
LATENCY_TARGET=50.0
SINGLE_MESSAGE_TIMEOUT=1.0
BULK_MESSAGE_TIMEOUT=10.0
CONCURRENT_MESSAGE_TIMEOUT=5.0
MIN_THROUGHPUT=10.0
MAX_MEMORY_PER_MESSAGE=1024

# Browser Configuration
GPT_URL=https://chatgpt.com/g/g-67f437d96d7c81918b2dbc12f0423867-thea-manager
CONVERSATION_URL=https://chatgpt.com/c/68bf1b1b-37b8-8324-be55-e3ccf20af737
INPUT_SELECTOR=textarea[data-testid='prompt-textarea']
SEND_BUTTON_SELECTOR=button[data-testid='send-button']
RESPONSE_SELECTOR=[data-testid='conversation-turn']:last-child .markdown
THINKING_INDICATOR=[data-testid='thinking-indicator']
MAX_SCRAPE_RETRIES=3

# Test Configuration
COVERAGE_REPORT_PRECISION=2
HISTORY_WINDOW=100

# Report Configuration
REPORTS_DIR=reports
INCLUDE_METADATA=true
INCLUDE_RECOMMENDATIONS=true

# Refactoring Configuration
DEFAULT_MAX_WORKERS=4
