name: python_standard_enforcer
task: >
  Verify repo compliance with Dream.OS Python Coding Standard v1.0 and auto-fix.
steps:
  - run: pip install -U pre-commit pytest coverage
  - run: pre-commit install
  - run: pre-commit run --all-files
  - run: pytest --maxfail=1 -q
  - run: coverage run -m pytest && coverage report --fail-under=80
  - assert: >
      Ensure no flake8/mypy/bandit failures; fail pipeline if any present.
artifacts:
  - docs/standards/python_coding_standard.md
  - pyproject.toml
  - .pre-commit-config.yaml
  - src/<pkg>/logging_config.py
  - tests/unit/test_template_module.py
exit_criteria:
  - all hooks green
  - coverage â‰¥ 80%
  - no function > 50 LOC; no file > 400 LOC (flag offenders)
